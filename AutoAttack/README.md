### 说明

#### 不要长期使用该脚本，不要使用该脚本打一些难度过高的关卡

#### 支持设置一些自定义配置

#### 运行后，浏览器内存占用会不断上升，推荐使用Chrome挂机

#### 推荐使用[Vanilla Reloader 1.1.1](https://forums.e-hentai.org/index.php?showtopic=65126&st=2660&p=4384894&#entry4384894)，可以减少内存占用，但由于不可抗力的问题，可能会导致GameOver

##### HV自动打怪，懒人专用，适度使用

##### 首次使用，或更新后首次使用，请先设置好配置。

为了防止答题出错掉Stamina值，所以设置了音效。
如果是战斗中，还没选好战斗模式，请务必先停止自动打怪，再选择，不然<s>根本停不下来</s>

#### 话说真的有人玩这游戏吗，手动滑稽

#### 图片演示

##### 自定义设置

![自定义设置](https://raw.githubusercontent.com/dodying/UserJs/master/HentaiVerse/hvAutoAttack/hvAutoAttack_Setting.png)

##### 自动打怪演示

![自动打怪演示](https://raw.githubusercontent.com/dodying/UserJs/master/HentaiVerse/hvAutoAttack/hvAutoAttack_Screenshot.gif)

##### 战斗中，选择攻击模式

![战斗中，选择攻击模式](https://greasyfork.org/system/screenshots/screenshots/000/003/736/original/%E6%A8%A1%E5%BC%8F%E9%80%89%E6%8B%A9.png?1459739319)

## HV AutoAttack Help

### 设置说明

#### 除了必须选择的攻击模式之外，其他皆可留空，留空则设置为默认值

**强烈建议认真配置，强烈建议版本更新就重置设置**

##### 三条HP、MP、SP

HP1、MP1、SP1为使用Gem（宝石）回复的界限

HP2、MP2、SP2为使用Potion级别药水（、技能）回复的界限

HP3、MP3、SP3为使用Elixir级别药水回复的界限

##### Last Elixir

当技能与药水CD时，使用Last Elixir。

##### **必填** 攻击模式

如果你是法师，选择你伤害加成最多的属性

##### 快捷键

在输入框按压任意按键，可以得到相应的键值。

##### 技能施放条件

根据场上存活的怪物数判断是否施放中高级技能。

##### Spirit Stance

当Overcharge的值≥【？】开启Spirit Stance。

##### 非浴血模式

勾选则，当血量设置值就发出警报并暂停脚本。

##### 防出错

警报与自动刷新，防止脚本因各种出错而暂停打怪，而浪费时间。

##### 兼容Reloader脚本

[**Reloader**](https://forums.e-hentai.org/index.php?showtopic=65126&st=2660&p=4384894&#entry4384894)是某网友制作的脚本，能有效解决HV打怪过程中老刷新的问题，同时使用**Reloader**能有效减少浏览器内存占用，推荐大家安装。

##### 防止误操作：开启**Reloader**后，本脚本【HVAA】根据监控网页元素[#leftpane]是否变化，来判断是否需要运行【HVAA】主程序。

勾选本项，将在元素[#leftpane]前放置一个透明图片元素，来阻挡。同时将在左侧HP条上增加一个按钮，来决定是否临时取消阻挡。

如图，蓝色边框就是增加的的透明元素。

![兼容Reloader-防止误操作](https://raw.githubusercontent.com/dodying/UserJs/master/HV_AutoAttack/%E5%85%BC%E5%AE%B9Reloader-%E9%98%B2%E6%AD%A2%E8%AF%AF%E6%93%8D%E4%BD%9C.png)

勾选【**兼容Reloader脚本**】，推荐勾选【**防止误操作**】

##### 小马答题

当【小马】答题时间≤【？】秒，如果输入框为空则随机生成答案并提交，否则直接提交。

##### 使用卷轴

##### 使用魔药

##### 增益技能与Channel技能

##### De技能

##### 特殊技能

##### 权重设置

##### 警报

#### 临时修复

### 权重规则

示例，脚本会选择权重**最小**的进行攻击

<table>
<tbody>
<tr><td>怪物id</td><td>当前血量</td><td>初始权重</td><td>技能1<br>（权重：+2）</td><td>技能2<br>（权重：+1）</td><td>技能3<br>（权重：-2）</td><td>最终权重</td></tr>
<tr><td>1</td><td>10</td><td>10</td><td>√</td><td></td><td>√</td><td>10</td></tr>
<tr><td>2</td><td>15</td><td>15</td><td></td><td>√</td><td></td><td>16</td></tr>
<tr><td>3</td><td>20</td><td>20</td><td>√</td><td></td><td></td><td>22</td></tr>
</tbody>
</table>

### 更新历史



#### Latest

##### 2.50

增加【自定义】当【小马】答题时间≤【？】秒，如果输入框为空则随机生成答案并提交，否则直接提交。

删除【自定义】弱点打击。

当Stamina小于10，则自动逃跑。

##### 2.491

修正一个书写错误。

##### 2.49

增加【自定义】使用卷轴、魔药。

去除【本地储存】战斗类型（注：可能还会加回来）。

##### 2.481

更改检查Buff的一些细节。

##### 2.48

增加【自定义】使用Last Elixir。

##### 2.473

增加功能【临时修复】。

##### 2.471

更改【自定义】默认快捷键。

Reloader下延时攻击，非Reloader不延时。

##### 2.47

修改【自定义】Spirit Stance的开启界限为自定义。

##### 2.461

修改【设置】界面。

##### 2.46

增加【自定义】开启Spirit Stance，特殊技能OFC。

##### 2.45

增加【自定义】权重设置。

更改某些设置显示方式。

##### 2.44

增加【自定义】De技能-Confuse。

修复一个书写错误。

##### 2.43

优化怪物的储存信息。

更改自动打怪算法。

【自定义】中：1、变【浴血模式】为【非浴血模式】，同时增加【非浴血模式】的警告HP。

2、HP/MP/SP 1/2/3含义改为相同。

3、优化【设置】显示方式，有些设置需要前置设置勾选后后才出现。

4、变更De技能的施放模式：1、只对Boss施放 2、对所有怪施放

##### 2.42

增加几个De技能。

##### 2.414

变更细节

##### 2.412

增加一个网页，提交Bug与建议。

##### 2.41

增加【自定义】：HP/MP/SP3

##### 2.40

增加【自定义】：1、Reloader防误操作模式 2、增益技能与Channel技能条件。

添加一些【自定义】De技能

##### 2.39

修复一个设置上的Bug。

##### 2.38

增加【自定义】：De技能。

修改统计血量的方式。

##### 2.37

增加【自定义】：技能释放条件。

去除【自定义】：延时攻击2。

准备加入：优先攻击【魔力合流】的怪兽（后删除）

##### 2.36

增加【自定义】：弱点打击。

更改战斗信息提示方式。

##### 2.35

更改支持Reloader的方式：从【定时器】到【MutationObserver】。

正式支持【自定义】：增益技能与Channel技能。

##### 2.346

变检查脚本版本的方式从【所有字符】到【前4个字符】。

X.AB到X.ABX的版本更新，不在提示重新设置自定义。

##### 2.345

测试功能：更改选择【自动使用De技能】对象从随机到按id顺序

##### 2.34

增加【重置设置】的按钮。

更改保存【自定义】设置的方式。

##### 2.33

通过【定时器】来支持Reloader。

增加【自定义】：开启Reloader。

更改记录怪物血量的方式。

##### 2.32

准备加入【自定义】：De技能。

增加检查【自定义】打怪模式是否选择，音频格式是否正确。

优化细节。

##### 2.30

优化移除【本地储存】的方式。

增加【自定义】：快捷键。

准备加入【自定义】：增益技能与Channel技能。

##### 2.22

增加功能【服务器错误则刷新页面】。

增加功能【检查脚本版本】。

再次修改默认快捷键。

手动转化类型，比较运算符（==）为（===）。

变对象的值从【obj['attr']】到【obj.attr】。

##### 2.201

修复【延时攻击2】失效的Bug。

##### 2.20

增加【自定义】：延时攻击、HP/MP/SP条。

修改默认快捷键。

修改本地储存【localStorage】的前缀【HV_AutoAttack】为【HVAA】。

##### 2.11

修复【浴血模式】的Bug。

##### 2.10

正式加入【自定义】功能。

增加【自定义】：浴血模式。

##### 2.0

上个版本连1.1都不到，就进入了2.0。

是因为，我不小心看到了战斗记录里的HP显示，正式脱离HVSTAT。

脚本自身获取并计算怪物生命值，同时回合计数（以前都是依赖HVSTAT实现的）。

##### 1.045

准备加入【自定义】功能。

支持【自定义】的有：1、答题暂停 2、默认打怪模式选择 3、警告声自定义。

##### 1.04

加入HVSTAT检查功能（当初脚本依赖HVSTAT）。

##### 1.03

增加了【血量过低则提醒】的功能。

加入打怪的延时时间——1s。

##### 1.02

HV的图片路径变更，脚本也就更新。

更改了查找【药水】元素的方式。

##### 1

灵感来自hoverplay，刚开始接触js，初步完成代码。

功能有：答题警报、其他警报、快捷键、自动前进、自动使用宝石、自动回复、自动使用增益技能、自动打怪。

很可惜，玩游戏不走心，一直搞不懂HVSTAT是怎么知道每个怪的血量的，直到[版本2.0](#20)。
